<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>TestEventReceiver (ModuleTestingEnvironment 0.2.3-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TestEventReceiver (ModuleTestingEnvironment 0.2.3-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.terasology.moduletestingenvironment</a></div>
<h2 title="Class TestEventReceiver" class="title">Class TestEventReceiver&lt;T extends org.terasology.entitySystem.event.Event&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.terasology.moduletestingenvironment.TestEventReceiver&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.lang.AutoCloseable</code>, <code>org.terasology.entitySystem.event.internal.EventReceiver&lt;T&gt;</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">TestEventReceiver&lt;T extends org.terasology.entitySystem.event.Event&gt;</span>
extends java.lang.Object
implements java.lang.AutoCloseable, org.terasology.entitySystem.event.internal.EventReceiver&lt;T&gt;</pre>
<div class="block">Test helper for listening to <code>Event</code>s
 <p>
 A test should instantiate a <code>TestEventReceiver</code>, execute some code, and then examine the list of entityRefs or
 events provided by <a href="#getEntityRefs()"><code>getEntityRefs()</code></a> and <a href="#getEvents()"><code>getEvents()</code></a>.
 <p>
 The receiver automatically collects events of the given type sent to its <code>Context</code>.

 <pre>
 
 TestEventReceiver&lt;DropItemEvent&gt; dropReceiver = new TestEventReceiver&lt;&gt;(getHostContext(), DropItemEvent.class)
 // fire some events
 for (DropItemEvent event : dropReceiver.getEvents()) {
   // do something with the events
 }
 
 </pre>
 Users can optionally supply a <code>BiConsumer</code> to handle the events with custom logic.
 <pre>
 
 TestEventReceiver receiver = new TestEventReceiver&lt;&gt;(context, DropItemEvent.class, (event, entity) -&gt; {
   // do something with the event or entity
 });
 
 </pre>
 Additionally, a list of required <emph>component types</emph> can be passed to the event receiver. This is equivalent
 to listing the components in the <code>ReceiveEvent(components = {...}</code> block of a regular event handler.
 <pre>
 {code
 TestEventReceiver receiver = new TestEventReceiver<>(context, DropItemEvent.class, (event, entity) -> {
   // do something with the event or entity
 }, MagicItemComponent.class);
 }
 </pre>
 <p>
 You can automatically unregister your receiver using a try-with-resources block (<code>TestEventReceiver</code> is <code>AutoCloseable</code>):

 <pre>
 
 try (TestEventReceiver&lt;DropItemEvent&gt; spy = new TestEventReceiver&lt;&gt;(getHostContext(), DropItemEvent.class)) {
   drops = spy.getEntityRefs();
 }
 
 </pre>
 <p>
 Note that listeners are discarded with the rest of the engine between tests, so closing your receiver is only useful
 if you need to stop handling events within a single test method.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.terasology.context.Context,java.lang.Class)">TestEventReceiver</a></span>&#8203;(org.terasology.context.Context&nbsp;context,
                 java.lang.Class&lt;<a href="TestEventReceiver.html" title="type parameter in TestEventReceiver">T</a>&gt;&nbsp;eventClass)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.terasology.context.Context,java.lang.Class,java.util.function.BiConsumer,java.lang.Class...)">TestEventReceiver</a></span>&#8203;(org.terasology.context.Context&nbsp;context,
                 java.lang.Class&lt;<a href="TestEventReceiver.html" title="type parameter in TestEventReceiver">T</a>&gt;&nbsp;eventClass,
                 java.util.function.BiConsumer&lt;<a href="TestEventReceiver.html" title="type parameter in TestEventReceiver">T</a>,&#8203;org.terasology.entitySystem.entity.EntityRef&gt;&nbsp;handler,
                 java.lang.Class&lt;? extends org.terasology.entitySystem.Component&gt;...&nbsp;componentTypes)</code></th>
<td class="colLast">
<div class="block">Constructs a new <code>TestEventReceiver</code> and registers it to listen for events.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Unregisters this <code>TestEventReceiver</code> so it stops listening for events.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;org.terasology.entitySystem.entity.EntityRef&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getEntityRefs()">getEntityRefs</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a read-only view of the list of entities which are sent events.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="TestEventReceiver.html" title="type parameter in TestEventReceiver">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getEvents()">getEvents</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a read-only view of the list of events.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onEvent(T,org.terasology.entitySystem.entity.EntityRef)">onEvent</a></span>&#8203;(<a href="TestEventReceiver.html" title="type parameter in TestEventReceiver">T</a>&nbsp;event,
       org.terasology.entitySystem.entity.EntityRef&nbsp;entity)</code></th>
<td class="colLast">
<div class="block">Records the event.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.terasology.context.Context,java.lang.Class,java.util.function.BiConsumer,java.lang.Class...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TestEventReceiver</h4>
<pre>public&nbsp;TestEventReceiver&#8203;(org.terasology.context.Context&nbsp;context,
                         java.lang.Class&lt;<a href="TestEventReceiver.html" title="type parameter in TestEventReceiver">T</a>&gt;&nbsp;eventClass,
                         java.util.function.BiConsumer&lt;<a href="TestEventReceiver.html" title="type parameter in TestEventReceiver">T</a>,&#8203;org.terasology.entitySystem.entity.EntityRef&gt;&nbsp;handler,
                         java.lang.Class&lt;? extends org.terasology.entitySystem.Component&gt;...&nbsp;componentTypes)</pre>
<div class="block">Constructs a new <code>TestEventReceiver</code> and registers it to listen for events.
 <p>
 The following signature of a <code>TestEventReceiver</code> is equivalent to the event handler below:
 <pre>
 {@code
 TestEventReceiver receiver = new TestEventReceiver<>(context, MyEvent.class, (event, entity) -> {
   // do something with the event or entity
 }, MyComponent.class);

 // ... corresponds to</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the context object for the test; this should probably be obtained through <a href="ModuleTestingEnvironment.html#createClient()"><code>ModuleTestingEnvironment.createClient()</code></a> and is needed so we can obtain an <code>EventSystem</code> instance to
         register our event handler.</dd>
<dd><code>eventClass</code> - the <code>Event</code> subclass to listen for</dd>
<dd><code>handler</code> - an optional <code>BiConsumer</code> fired when events are received</dd>
<dd><code>componentTypes</code> - list of component types that need to be present on the entity receiving the event</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.terasology.context.Context,java.lang.Class)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TestEventReceiver</h4>
<pre>public&nbsp;TestEventReceiver&#8203;(org.terasology.context.Context&nbsp;context,
                         java.lang.Class&lt;<a href="TestEventReceiver.html" title="type parameter in TestEventReceiver">T</a>&gt;&nbsp;eventClass)</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#%3Cinit%3E(org.terasology.context.Context,java.lang.Class,java.util.function.BiConsumer,java.lang.Class...)"><code>TestEventReceiver(Context, Class, BiConsumer, Class[])</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;close()</pre>
<div class="block">Unregisters this <code>TestEventReceiver</code> so it stops listening for events.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
</dl>
</li>
</ul>
<a id="getEntityRefs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEntityRefs</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;org.terasology.entitySystem.entity.EntityRef&gt;&nbsp;getEntityRefs()</pre>
<div class="block">Returns a read-only view of the list of entities which are sent events.
 <p>
 Note that entities appear in the order they received the events, and may appear multiple times. Each entity
 corresponds to the <a href="#getEvents()"><code>getEvents()</code></a> member with the same index.
 <p>
 If the <code>TestEventReceiver</code> has not been <a href="#close()">closed</a>, then this list will continue to be
 updated if further events occur.</div>
</li>
</ul>
<a id="getEvents()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEvents</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;<a href="TestEventReceiver.html" title="type parameter in TestEventReceiver">T</a>&gt;&nbsp;getEvents()</pre>
<div class="block">Returns a read-only view of the list of events.
 <p>
 If the <code>TestEventReceiver</code> has not been <a href="#close()">closed</a>, then this list will continue to be
 updated if further events occur.</div>
</li>
</ul>
<a id="onEvent(org.terasology.entitySystem.event.Event,org.terasology.entitySystem.entity.EntityRef)">
<!--   -->
</a><a id="onEvent(T,org.terasology.entitySystem.entity.EntityRef)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onEvent</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onEvent&#8203;(<a href="TestEventReceiver.html" title="type parameter in TestEventReceiver">T</a>&nbsp;event,
                    org.terasology.entitySystem.entity.EntityRef&nbsp;entity)</pre>
<div class="block">Records the event.
 <p>
 Note that this doesn't put the entity in an inventory or otherwise interfere with the event itself, but it does
 store a reference to the entity and event.  Consequently, the entity still exists in the world, and if other
 actors modify or destroy it, those changes would be reflected in the list of entityRefs.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>onEvent</code>&nbsp;in interface&nbsp;<code>org.terasology.entitySystem.event.internal.EventReceiver&lt;<a href="TestEventReceiver.html" title="type parameter in TestEventReceiver">T</a> extends org.terasology.entitySystem.event.Event&gt;</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
